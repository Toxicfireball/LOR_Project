/* underline + help cursor for wrapped terms */
.glossary-term {
  border-bottom: 1px dotted currentColor;
  cursor: help;
}

/* Pure CSS tooltip powered by [data-tip] */
.glossary-term[data-tip] {
  position: relative;
}

.glossary-term[data-tip]:hover::after {
  content: attr(data-tip);
  position: absolute;
  left: 0;
  top: 100%;
  transform: translateY(6px);
  min-width: 200px;
  max-width: min(420px, 80vw);
  background: #111827;      /* gray-900 */
  color: #f9fafb;            /* gray-50 */
  border-radius: 0.375rem;   /* rounded-md */
  padding: 0.5rem 0.625rem;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -4px rgba(0,0,0,.1);
  z-index: 9999;
  white-space: pre-wrap;     /* keep line breaks */
  line-height: 1.25rem;
  font-size: 0.875rem;       /* text-sm */
  pointer-events: none;      /* don't block mouse */
}

/* little arrow */
.glossary-term[data-tip]:hover::before {
  content: "";
  position: absolute;
  left: 10px;
  top: calc(100% + 2px);
  border-width: 6px;
  border-style: solid;
  border-color: transparent transparent #111827 transparent;
  z-index: 9998;
  pointer-events: none;
}

/* If a term is near the bottom edge, flip tooltip upwards (basic heuristic) */
@media (pointer: fine) {
  .glossary-term[data-tip][data-tip-pos="top"]:hover::after {
    bottom: 100%;
    top: auto;
    transform: translateY(-6px);
  }
  .glossary-term[data-tip][data-tip-pos="top"]:hover::before {
    top: auto;
    bottom: calc(100% + 2px);
    border-color: #111827 transparent transparent transparent;
  }
}
